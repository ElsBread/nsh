<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>計算機原理與應用 - 模擬測驗系統</title>
    <style>
        body { font-family: "Microsoft JhengHei", sans-serif; line-height: 1.6; max-width: 800px; margin: 20px auto; padding: 20px; background-color: #f0f2f5; }
        h1 { color: #333; text-align: center; }
        
        #start-screen, #score-board { text-align: center; padding: 40px; background: white; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin-bottom: 20px; }
        #quiz-area, #score-board { display: none; }

        .question-card { background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin-bottom: 25px; }
        .question-text { font-size: 1.1em; font-weight: bold; margin-bottom: 15px; color: #1a73e8; }
        .question-img { display: block; max-width: 100%; height: auto; margin: 15px 0; border: 1px solid #eee; border-radius: 4px; background-color: #fff; }

        .options { list-style: none; padding: 0; }
        .options li { margin: 12px 0; padding: 8px; border: 1px solid #ddd; border-radius: 6px; }
        input[type="radio"] { margin-right: 10px; cursor: pointer; }
        label { cursor: pointer; display: block; width: 100%; }
        
        .btn { background: #1a73e8; color: white; border: none; padding: 12px 30px; border-radius: 6px; cursor: pointer; font-size: 1.1em; transition: 0.3s; margin: 10px; }
        .btn:hover { background: #1557b0; transform: scale(1.05); }

        .result-box { margin-top: 15px; font-weight: bold; padding: 10px; border-radius: 4px; display: none; }
        .correct-ans { color: #1e7e34; background-color: #d4edda; border: 1px solid #c3e6cb; }
        .wrong-ans { color: #bd2130; background-color: #f8d7da; border: 1px solid #f5c6cb; }
        
        .score-text { font-size: 2em; color: #1a73e8; font-weight: bold; margin: 20px 0; }
        .info-tag { font-size: 0.8em; color: #666; font-weight: normal; margin-left: 10px; }
    </style>
</head>
<body>
    <h1>計算機原理與應用 模擬測驗</h1>

    <div id="start-screen">
        <p>系統將隨機抽取 40 題進行測驗，請在完成所有題目後點擊下方提交。</p>
        <button class="btn" onclick="startQuiz()">開始測驗</button>
    </div>

    <div id="score-board">
        <h2>測驗完成！</h2>
        <div class="score-text" id="final-score">0 分</div>
        <p id="score-details"></p>
        <button class="btn" onclick="startQuiz()">重新抽取題目</button>
    </div>

    <div id="quiz-area">
        <div id="quiz-container"></div>
        <div style="text-align: center; margin-top: 30px;">
            <button class="btn" id="submit-btn" onclick="calculateScore()">提交所有答案並結算分數</button>
        </div>
    </div>

    <script>
        const rawQuestions = [
            {

                q: "邏輯閘為電腦硬體的基本組成元件。何種邏輯閘是如有其中一個輸入為真或全輸入為真時輸出便為假？",
                img: "", 
                options: ["NOR", "OR", "NAND", "AND"],
                correctAnswer: "NOR"
            },
            {
                q: "若兩個輸入端輸入的值相同，則輸出為 1 的邏輯閘是：",
                img: "", 
                options: ["NAND", "NOR", "XOR", "XNOR"],
                correctAnswer: "XNOR"
            },
            {
                q: "若邏輯運算 1011 與 0101 的結果為 0001，則運算子應為何？",
                img: "", 
                options: ["AND", "OR", "XOR", "NAND"],
                correctAnswer: "AND"
            },
            {
                q: "將 8 bit 資料 10100101 與 10110110 作 XOR 運算後結果以 16 進制表示應為：",
                img: "", 
                options: ["EC", "24", "A4", "13"],
                correctAnswer: "13"
            },
            {
                q: "若欲利用邏輯閘製作邏輯運算式AB’C’+ABC’，則使用之最少邏輯閘為：",
                img: "", 
                options: [
                    "3個AND邏輯閘，1個OR邏輯閘，1個NOT邏輯閘",
                    "3個NOT邏輯閘，4個AND邏輯閘，1個OR邏輯閘",
                    "1個NOT邏輯閘，1個AND邏輯閘",
                    "1個NOT邏輯閘，1個OR邏輯閘"
                ],
                correctAnswer: "1個NOT邏輯閘，1個AND邏輯閘"
            },
			{
				q:"一個全加器可以用下列何種元件組合而成？",
				img:"",
				options: [
					"二個半加器及一個AND閘",
					"二個半加器及一個OR閘",
					"一個半加器及二個OR閘",
					"一個半加器及二個AND閘"
				],
				correctAnswer:"二個半加器及一個OR閘"
			},
			{
				q:"邏輯電路中有關半加器的敘述，下列何者有誤？",
				img:"",
				options: [
					"有二個輸入及二個輸出",
					"能處理三個位元的相加",
					"構造比全加器簡單",
					"輸入並不考慮前個位元的進位"
				],
				correctAnswer:"能處理三個位元的相加"
			},
			{
				q:"下列何者不是真值表使用的目的？",
				img:"",
				options: [
					"顯示布林函數的定義",
					"邏輯式的表示方式",
					"說明邏輯電路的輸出入關係",
					"定義邏輯電路的實際連接方式"
				],
				correctAnswer:"定義邏輯電路的實際連接方式"
			},
            {
                q: "下列何者相當於 NOR 的邏輯功能？ (請根據圖片中的標示 A, B, C, D 選擇)",
                img: "1.png", 
                options: ["(A)", "(B)", "(C)", "(D)"],
                correctAnswer: "(C)",
                noShuffle: true // 圖形題：固定選項順序，不打亂
            },
			{
				q:"下列那一個答案和另外三個不一致？",
				img:"2.png",
				options: ["(A)", "(B)", "(C)", "(D)"],
				correctAnswer:"(D)",
				noShuffle: true // 圖形題：固定選項順序，不打亂
			},
			{
				q:"若兩個輸入端輸入的值相同，則輸出為 1 的邏輯閘是：",
				img:"",
				options: [
					"NAND",
					"NOR",
					"XOR",
					"XNOR"
				],
				correctAnswer:"XNOR"
			},
			{
				q:"?個NAND邏輯閘的兩個輸入端分別為0和1，則其輸出為：",
				img:"",
				options: [
					"0",
					"1",
					"01",
					"10"
				],
				correctAnswer:"1"
			},
			{
				q:"若邏輯運算1011與0101的結果為0001，則運算子應為何？",
				img:"",
				options: [
					"AND",
					"OR",
					"XOR",
					"NAND"
				],
				correctAnswer:"AND"
			},
			{
				q:"電腦數字系統中，1的補數相當於那一個邏輯閘？",
				img:"",
				options: [
					"NAND",
					"NOR",
					"NOT",
					"XOR"
				],
				correctAnswer:"NOT"
			},
			{
				q:"X=F5, Y=3E（均以16進制表示），若Z=X and Y，則Z值應為何？",
				img:"",
				options: [
					"FE",
					"35",
					"34",
					"3E"
				],
				correctAnswer:"34"
			},
			{
				q:"OR 邏輯閘最少需用多少個NAND閘來實現？",
				img:"",
				options: [
					"2",
					"3",
					"4",
					"5"
				],
				correctAnswer:"3"
			},
			{
				q:"下列有關邏輯閘的敘述何者錯誤？",
				img:"",
				options: [
					"只用NAND就可以做出所有邏輯電路",
					"只用NOR就可以做出所有邏輯電路",
					"只用AND和NOT就可以做出所有邏輯電路",
					"只用AND和OR就可以做出所有邏輯電路"
				],
				correctAnswer:"只用AND和OR就可以做出所有邏輯電路"
			},
			{
				q:"下列那一項不是通用閘之組合？",
				img:"",
				options: [
					"NAND閘",
					"NOR閘",
					"AND、OR、NOT閘",
					"AND、OR閘"
				],
				correctAnswer:"AND、OR閘"
			},
			{
				q:"當突然停電時，下列那些儲存裝置中所存放的資料會消失？①隨機存取記憶體 ②磁片 ③唯讀記憶體 ④硬碟 ⑤快取記憶體 ⑥暫存器 ⑦光碟片",
				img:"",
				options: [
					"①⑤⑥",
					"①③⑤⑦",
					"②③④⑦",
					"②④⑥"
				],
				correctAnswer:"①⑤⑥"
			},
			{
				q:"下列何者為非揮發性(non-volatile)記憶體？",
				img:"",
				options: [
					"SRAM",
					"DDR-SDRAM",
					"EPROM",
					"DRAM"
				],
				correctAnswer:"EPROM"
			},
			{
				q:"欲定址128K的位址，至少需要使用多少位址線？",
				img:"",
				options: [
					"17",
					"18",
					"19",
					"20"
				],
				correctAnswer:"17"
			},
			{
				q:"我們所稱64位元CPU之64位元是指：",
				img:"",
				options: [
					"位址匯流排寬度",
					"CPU中斷向量的寬度",
					"資料匯流排寬度",
					"狀態旗標的位元數"
				],
				correctAnswer:"資料匯流排寬度"
			},
			{
				q:"下列有關電腦硬體架構的敘述何者錯誤？",
				img:"",
				options: [
					"螢幕、喇叭、繪圖機均屬於輸出單元",
					"算術邏輯單元執行算數運算及邏輯運算",
					"控制單元負責控制、協調中央處理器內各單元的動作及單元間的相互運作",
					"記憶單元和控制單元合稱為中央處理單元"
				],
				correctAnswer:"記憶單元和控制單元合稱為中央處理單元"
			},
			{
				q:"在程式執行的過程中，微算機處理器(microprocessor)用那一個元件來儲存下一個指令的位址？",
				img:"",
				options: [
					"記憶體位址暫存器(memory address register)",
					"指令暫存器(instruction register)",
					"記憶體緩衝暫存器(memory buffer register)",
					"程式計數器(program counter)"
				],
				correctAnswer:"程式計數器(program counter)"
			},
			{
				q:"在有一種改進CPU效能的技術，是同時處理多個指令的擷取(fetch)、解碼(decode)、執行(execute)各步驟，就是前面指令開始解碼時就可開始抓取下一指令，這種技術叫做：",
				img:"",
				options: [
					"緩衝(buffering)",
					"重疊(overlapping)",
					"串接(cascading)",
					"管線(pipelining)"
				],
				correctAnswer:"管線(pipelining)"
			},
			{
				q:"要從家裡透過電話線接上網際網路的過程為：",
				img:"",
				options: [
					"電腦→數據機→網際網路服務提供者(ISP)→網際網路",
					"電腦→網際網路服務提供者→數據機→網際網路",
					"電腦→全球資訊網(WWW)→數據機→網際網路",
					"電腦→數據機→全球資訊網→網際網路"
				],
				correctAnswer:"電腦→數據機→網際網路服務提供者(ISP)→網際網路"
			},
			{
				q:"有關光纖傳輸媒介的敘述，何者錯誤？",
				img:"",
				options: [
					"傳輸安全性高",
					"電磁干擾低",
					"傳輸速率高",
					"容易衰減"
				],
				correctAnswer:"容易衰減"
			},
			{
				q:"將類比訊號轉為數位訊號的過程稱為什麼？",
				img:"",
				options: [
					"調變(modulation)",
					"壓縮(compress)",
					"加密(encrypt)",
					"解調變(demodulation)"
				],
				correctAnswer:"解調變(demodulation)"
			},
			{
				q:"在國際標準組織所制定的OSI模式中，最高階者為何？",
				img:"",
				options: [
					"應用層",
					"展示層",
					"會議層",
					"網路層"
				],
				correctAnswer:"應用層"
			},
			{
				q:"在OSI的網路架構中，哪一層決定封包(Packet)傳送的路徑？",
				img:"",
				options: [
					"實體層",
					"資料鏈結層",
					"網路層",
					"傳輸層"
				],
				correctAnswer:"網路層"
			},
			{
				q:"在OSI模型之網路架構中，下列何者是實體層所負責的工作？",
				img:"",
				options: [
					"媒體存取控制",
					"偵錯與錯誤處理",
					"將資料轉換為傳輸媒介訊號",
					"資料的壓縮和解壓縮"
				],
				correctAnswer:"將資料轉換為傳輸媒介訊號"
			},
			{
				q:"下列哪一個OSI鎖定一的層級是負責協調建立起資料交換的格式，並且也負責資料的壓縮與加密？",
				img:"",
				options: [
					"應用層",
					"網路層(Network)",
					"展示層",
					"資料鏈結層"
				],
				correctAnswer:"展示層"
			},
			{
				q:"以國際標準組織所制定的開放系統互連架構(OSI)為主，其中屬於第二層的資料單位稱為什麼？",
				img:"",
				options: [
					"訊框(Frame)",
					"封包(Packet)",
					"片段(Segment)",
					"訊息(Message)"
				],
				correctAnswer:"訊框(Frame)"
			},
			{
				q:"在下面那一種通訊網路架構中，當其中中央電腦發生故障時，整個網路就無法運作？",
				img:"",
				options: [
					"星狀",
					"環狀",
					"網狀",
					"匯流"
				],
				correctAnswer:"星狀"
			},
			{
				q:"資料的傳輸一般分為單工、半雙工及全雙工三種模式，以下何者為全雙工？",
				img:"",
				options: [
					"用收音機聽音樂",
					"用電話機交談",
					"以無線對講機交談",
					"以電視觀看三台的節目"
				],
				correctAnswer:"用電話機交談"
			},
			{
				q:"在通訊設備中，用來連接兩個不同的網路結構，能將某一網路上的數據格式轉換成其他網路能使用的數據格式之硬體設備，稱為：",
				img:"",
				options: [
					"多工器(multiplexor)",
					"集訊器(concentrator)",
					"控制器(controller)",
					"閘道器(gateway)"
				],
				correctAnswer:"閘道器(gateway)"
			},
			{
				q:"有一字組(word)含8個位元，其中1個位元是同位檢查位元(parity check bit)。若採偶同位(even parity)編碼，則下列何者錯誤？",
				img:"",
				options: [
					"00101101",
					"00110010",
					"11100010",
					"11100111"
				],
				correctAnswer:"00110010"
			},
			{
				q:"下列敘述何者不正確？",
				img:"",
				options: [
					"同位元檢查碼，可以偵測出任何狀況的錯誤",
					"漢明碼檢查法是依照資料的內容計算產生的",
					"資料傳輸時，電路易受外界干擾，產生傳輸資料的錯誤",
					"安全性較佳的資料傳輸系統，有資料偵錯碼的更正功能"
				],
				correctAnswer:"同位元檢查碼，可以偵測出任何狀況的錯誤"
			},
			{
				q:"假設有一台電腦有10GB的硬碟儲存空間。它從電話線接收資料的速度是14400bps。以此速度來存，則幾小時後該硬碟有機會被填滿？",
				img:"",
				options: [
					"48",
					"128",
					"512",
					"1680"
				],
				correctAnswer:"1680"
			},
			{
				q:"某部遠方的電腦中存有56MByte的資料，如果用baud rate為56K的數據機下載這些資料，大約需要多少時間？",
				img:"",
				options: [
					"不到20分鐘",
					"約1小時",
					"約2.5小時",
					"1天多"
				],
				correctAnswer:"約2.5小時"
			},
			{
				q:"一般俗稱的T3專線，其傳輸速率約為多少？",
				img:"",
				options: [
					"512 Kbps",
					"1024 Kbps",
					"1.544 Mbps",
					"44.736 Mbps"
				],
				correctAnswer:"44.736 Mbps"
			}
        ];

        let currentActiveQuestions = [];

        function shuffleArray(array) {
            let newArr = [...array];
            for (let i = newArr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArr[i], newArr[j]] = [newArr[j], newArr[i]];
            }
            return newArr;
        }

        function startQuiz() {
            document.getElementById('start-screen').style.display = 'none';
            document.getElementById('score-board').style.display = 'none';
            document.getElementById('quiz-area').style.display = 'block';
            document.getElementById('submit-btn').style.display = 'inline-block';
            
            const container = document.getElementById('quiz-container');
            container.innerHTML = ''; 

            // 隨機抽取 5 題
            currentActiveQuestions = shuffleArray(rawQuestions).slice(0, 40);

            currentActiveQuestions.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = 'question-card';
                
                let imageHtml = item.img ? `<img src="pic/${item.img}" class="question-img">` : "";
                const finalOptions = item.noShuffle ? item.options : shuffleArray(item.options);

                let optionsHtml = '';
                finalOptions.forEach((opt, i) => {
                    const label = String.fromCharCode(65 + i);
                    optionsHtml += `<li><label><input type="radio" name="q${index}" value="${opt}"> ${label}. ${opt}</label></li>`;
                });

                card.innerHTML = `
                    <div class="question-text">${index + 1}. ${item.q} ${item.noShuffle ? "<span class='info-tag'>(順序固定)</span>" : ""}</div>
                    ${imageHtml}
                    <ul class="options">${optionsHtml}</ul>
                    <div id="res${index}" class="result-box"></div>
                `;
                container.appendChild(card);
            });
            window.scrollTo(0, 0);
        }

        function calculateScore() {
            let score = 0;
            let correctCount = 0;
            const totalQuestions = currentActiveQuestions.length;
            const pointsPerQuestion = 100 / totalQuestions;

            currentActiveQuestions.forEach((item, index) => {
                const selected = document.querySelector(`input[name="q${index}"]:checked`);
                const resDiv = document.getElementById(`res${index}`);
                resDiv.style.display = 'block';

                const userVal = selected ? selected.value : "未作答";

                if (userVal === item.correctAnswer) {
                    score += pointsPerQuestion;
                    correctCount++;
                    resDiv.innerHTML = `✅ 正確！`;
                    resDiv.className = 'result-box correct-ans';
                } else {
                    resDiv.innerHTML = `❌ 錯誤。您的答案：${userVal} <br> 正確答案是：${item.correctAnswer}`;
                    resDiv.className = 'result-box wrong-ans';
                }
            });

            // 顯示分數畫面
            document.getElementById('score-board').style.display = 'block';
            document.getElementById('final-score').innerText = `${Math.round(score)} 分`;
            document.getElementById('score-details').innerText = `總共 ${totalQuestions} 題，您答對了 ${correctCount} 題。`;
            document.getElementById('submit-btn').style.display = 'none'; // 隱藏提交按鈕
            
            window.scrollTo(0, 0);
        }
    </script>
</body>

</html>
